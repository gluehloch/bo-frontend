<div>

  <div *ngIf="!tippModel.authenticated">
    <div class="form-group">
    <p class="alert alert-warning">
      Du bist noch nicht angemeldet.
      <a routerLink="/login" routerLinkActive="active">Hier</a> kannst du das nachholen.
    </p>
    </div>
  </div>

  <div *ngIf="tippModel.authenticated" class="form-group">
    <div class="alert alert-success">
      Du bist eingeloggt als {{tippModel.nickname}}.<br/>
      Es wird die Saison ID {{currentSeasonId}} getippt.<br/>
    </div>
  </div>

  <div *ngIf="tippModel.authenticated && !tippModel.round">
    <div class="alert alert-info" role="alert">Zur Zeit gibt es keinen Spieltag zu tippen.</div>
    <div>
      Hier kannst du dir deinen letzten Tipp anschauen.
    </div>
  </div>

  <div *ngIf="tippModel.authenticated && tippModel.round">
      <h1>{{tippModel.round.seasonName}} {{tippModel.round.seasonYear}}</h1>
      <h2>{{tippModel.round.index}}. Spieltag am {{tippModel.round.dateTime | date: 'dd.MM.yyyy HH:mm'}}</h2>
      <p>Round ID {{tippModel.round.id}}</p>
      <form name="tippform" novalidate>
        <table class="table table-striped">
          <tr>
            <th class="hidden-xs" style="text-align:right">Datum</th>
            <th style="text-align:right">Heimmannschaft</th>
            <th style="text-align:left">Gastmannschaft</th>
            <th class="hidden-xs">Tore</th>
            <th colspan="2">Tipp</th>
            <th style="text-align:right">Punkte</th>
          </tr>
          <tr *ngFor="let game of tippModel.round.games">
            <td class="hidden-xs" style="text-align:right">{{game.dateTime | date: 'dd.MM.yyyy HH:mm'}}</td>
            <td style="text-align: right">{{game.homeTeam.name}}</td>
            <td style="text-align: left">{{game.guestTeam.name}}</td>
            <td class="hidden-xs">{{game.result.homeGoals}} : {{game.result.guestGoals}}</td>
            <td>
              <input class="form-control"
                id="{{tippModel.round.id}}heim{{game.id}}" 
                name="{{tippModel.round.id}}heim{{game.id}}"
                max="15" min="0" type="number" size="1"
                [disabled]="game.finished"
                placeholder="{{game.result.homeGoals}}"
                [(ngModel)]="game.tipps[0].tipp.homeGoals"/>
            </td>
            <td>
              <input class="form-control"
                id="{{tippModel.round.id}}gast{{game.id}}"
                name="{{tippModel.round.id}}gast{{game.id}}"
                max="15" min="0" type="number" size="1"
                [disabled]="game.finished"
                placeholder="{{game.result.guestGoals}}"
                [(ngModel)]="game.tipps[0].tipp.guestGoals"/>
            </td>
            <td style="text-align:right">
              {{game.tipps[0].points}}
            </td>
          </tr>
          <tr>
            <td colspan="6" style="text-align:right; font-weight: bold">Gesamt</td>
            <td style="text-align:right; font-weight: bold">{{tippModel.points}}</td>
          </tr>
        </table>
        <div class="form-group">
          <div class="btn-group btn-group-justified" role="group">
            <div class="btn-group" role="group">
              <button class="btn btn-default" type="submit"
                (click)="last()" *ngIf="tippModel.round.index > 1">Letzter</button>
            </div>
            <div class="btn-group" role="group">
              <button class="btn btn-default" type="submit"
                (click)="next()" *ngIf="!tippModel.round.lastRound">NÃ¤chster</button>
            </div>
          </div>
        </div>
        <div class="form-group">
          <!--
          <div class="alert alert-success"
              *ngIf="tipp.serviceResponseMessage.status == 'SUCCESS'">
              Dein Tipp wurde erfolgreich gespeichert!
          </div>
          -->
          <!--
          <div class="alert alert-danger"
            *ngIf="tipp.serviceResponseMessage.status == 'ERROR'">
            FEHLER: Dieser Spieltag existiert nicht!
          </div>
          -->
          <button class="btn btn-lg btn-primary btn-block" type="submit"
              (click)="submitTipp()"
              *ngIf="tippModel.authenticated && tippModel.round.tippable">
            Tipp
          </button>
        </div>
      </form>
  </div>

</div>
